---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

## puy: políticos uruguayos

*Nicolás Schmidt, Antonio Cardarello, Alfonso Castiglia, Fabricio Carneiro, Diego Luján, UMAD<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>.*

<!-- badges: start -->


[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
`r badger::badge_devel("Nicolas-Schmidt/puy", "orange")`
<!-- badges: end -->

### Descripción

Este paquete de R contiene varios conjuntos de datos relativos a carreras políticas en Uruguay. La base de datos principal contiene la totalidad de los cargos que fueron ocupados en el parlamento nacional (Cámara de Diputados y Cámara de Senadores) de 1830 a 2005. Adicionalmente, y para el mismo periodo están los nombres de los políticos que ocuparon alguna cartera ministerial.


##### Responsables

| Responsable  | Datos                   | Periodo     | Avance                         | Pendiente              | Status                 |
| -------------| ----------------------- |  -----------| -------------------------------|------------------------|------------------------|
| Schmidt      | Poder Legislativo       | 1830 - 2020 | 1830 - 2005: :heavy_check_mark:| 2006 - 2020: :warning: | 92% :arrow_up:         |
| Cardarello   | Ejecutivo departamental | 1830 - 2020 | 1830 - 2020: :x:               | 1830 - 2020: :warning: | 0%  :arrow_down:       |
| Castiglia    | Gabinetes Ministeriales | 1830 - 2020 | 1830 - 2020: :x:               | 1830 - 2020: :warning: | 0%  :arrow_down:       |
| Carneiro     | Directores OPP          | 196..- 2020 | 196..- 2020: :x:               | 196..- 2020: :warning: | 0%  :arrow_down:       |    
| Carneiro     | Presidencia y Vice      | 1830 - 2020 | 1830 - 2020: :x:               | 1830 - 2020: :warning: | 0%  :arrow_down:       |          
| Carneiro     | BROU                    | 1896 - 2020 | 1896 - 2020: :x:               | 1896 - 2020: :warning: | 0%  :arrow_down:       | 
| Carneiro     | Banco Central           | 1967 - 2020 | 1967 - 2020: :x:               | 1967 - 2020: :warning: | 0%  :arrow_down:       | 
| Luján        | Candidaturas y Pre. Can.| 1830 - 2020 | 1830 - 2020: :x:               | 1830 - 2020: :warning: | 0%  :arrow_down:       | 
| ASIGNAR            | Entes publicos                 |     -    | -               | - | -       | 

**Juntas Militares?** Para hacer la trayectoria de civiles que iniciaron en politica y se volveron gorilas... Alberto Demicheli recuerdo es el facho, estuvo con Terra y luego en el 70 y algo



En carpeta `data-raw/viejo_banco` estan las bases que estaban en banco de datos:

- Autoridades Economicas (opp, brou, bc)
- Consejo de Estado 1973-1985
- Gabinetes 1943-2014
- Presidentes Uruguayos
- Entes publicos 1985-2014

##### Estructura de los datos (Instrucciones)

- `nombre`
- `cargo`
- `condicion`
- `legislatura`
- `partrido`
- `fraccion`
- `fecha_inicio`
- `fecha_fin`
- `departamento`
- `observaciones`



### Instalación

``` r
## Versión en desarrollo
# source("https://install-github.me/Nicolas-Schmidt/puy")
```


### Ejemplos de color

<details>
  <summary><b><a style="cursor: pointer;">Click here to expand </a></b> </summary>

```{r, echo = FALSE}
#load("data/politicos.rda")
suppressPackageStartupMessages(library(tidyverse))
```

```{r}
library(puy)

vars <- c("legislador2", "camara", "condicion", "departamento", 
          "fecha_inicio", "fecha_fin", "partido", "legislatura")

str(politicos[, vars], 15)



## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## legislador más prolifico
## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~

politicos2 <-
    politicos %>% 
    select(legislador2, legislatura, partido, camara) %>% 
    filter(partido != "") %>% 
    distinct() %>% 
    na.omit() %>% 
    split(.$legislador2)
    
set <- politicos2[[which.max(lapply(politicos2, nrow))]]
rownames(set) <- NULL

legis <- unique(set$legislatura)
cat("\nLegislaturas:\n", " numero  : ", legis, "\n", " cantidad: ", length(legis))


set


## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## legislador más party-volat
## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~


set2 <-  do.call(rbind, politicos2[lengths(lapply(politicos2, function(x){unique(x$partido)})) == 3])
rownames(set2) <- NULL
unique(set2$legislador2)


print(set2 %>% select(-legislatura, -camara) %>% distinct())

# global
table(sapply(politicos2, function(x){length(unique(x$partido))}))



## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## Frecuencia de nombres
## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~

puy_nombres()



## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## Legislaturas
## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~

legislaturas

```

</details>
<p> </p>





### Ejemplo con `speech`

<details>
  <summary><b><a style="cursor: pointer;">Click here to expand </a></b> </summary>

```{r}
url_speech <- "https://parlamento.gub.uy/documentosyleyes/documentos/diario-de-sesion/senadores/2094/IMG/0?width=800&height=600&hl=en_US1&iframe=true&rel=nofollow" 
floor_speech <- speech::speech_build(file = url_speech, compiler = TRUE) 

str(floor_speech)


## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## add party and complete name
## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~

floor_speech <- left_join(floor_speech, as_speech_politicos(), by = c("legislator", "legislature"))
    
str(floor_speech)


```



</details>
<p> </p>




#### Notas

---
<sup><a id="fn.1" href="#fnr.1">1</a></sup> Unidad de Métodos y Acceso a Datos, Facultad de Ciencias Sociales, Universidad de la República (UMAD-FCS-UdelaR)

